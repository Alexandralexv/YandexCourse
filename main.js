(()=>{"use strict";var e=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}];function t(e){e.classList.add("popup_is-opened"),e.addEventListener("click",(function(t){t.target===e&&n(e)})),document.addEventListener("keydown",r)}function n(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",r)}function o(e,o){var r=e.querySelector(".popup__close"),c=e.querySelector(".popup__form");t(e),r.addEventListener("click",(function(){n(e)})),c.addEventListener("submit",o)}function r(e){"Escape"===e.key&&n(document.querySelector(".popup_is-opened"))}var c=document.querySelector("#card-template"),p=document.querySelector(".places__list"),u=document.querySelector(".popup_type_image");function i(o){p.innerHTML="",o.forEach((function(o){p.append(function(o,r){var p=c.content.cloneNode(!0),a=p.querySelector(".card__image"),d=p.querySelector(".card__title");a.alt=o,a.src=r,d.textContent=o;var l=p.querySelector(".card__like-button");l.addEventListener("click",(function(){l.classList.toggle("card__like-button_is-active")})),a.addEventListener("click",(function(){t(u);var e=u.querySelector(".popup__caption"),o=u.querySelector(".popup__image");e.textContent=a.alt,o.src=a.src,u.querySelector(".popup__close").addEventListener("click",(function(){n(u)}))}));var s=p.querySelector(".card__delete-button");return s.addEventListener("click",(function(){var t=s.nextElementSibling.querySelector(".card__title").textContent;e.map((function(n,o){n.name==t&&(e.splice(o,1),i(e))}))})),p}(o.name,o.link))}))}function a(e,t){var n=Array.from(t.querySelectorAll(".popup__input")),o=e.querySelector(".popup__button");n.forEach((function(e){e.addEventListener("input",(function(){!function(e,t){e.validity.valid?function(e,t){var n=t.querySelector(".".concat(e.id,"_error"));e.classList.remove("popup__input_type_error"),n.classList.remove("popup__input_error"),n.textContent=""}(e,t):function(e,t,n){var o=n.querySelector(".".concat(e.id,"_error"));e.classList.add("popup__input_type_error"),o.textContent=t,o.classList.add("popup__input_error")}(e,e.validationMessage,t)}(e,t),function(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?t.disabled=!1:t.disabled=!0}(n,o)}))}))}u.classList.add("popup_is-animated");var d=document.querySelector(".popup_type_edit"),l=document.querySelector(".popup_type_new-card");d.classList.add("popup_is-animated"),l.classList.add("popup_is-animated");var s=document.querySelector(".profile__title"),_=document.querySelector(".profile__description"),y=document.querySelector(".popup__input_type_name"),m=document.querySelector(".popup__input_type_description"),v=document.querySelector(".popup__input_type_card-name"),f=document.querySelector(".popup__input_type_url");function S(e){e.preventDefault(),s.textContent=y.value,_.textContent=m.value,n(d)}function q(t){t.preventDefault(),e.unshift({name:v.value,link:f.value}),i(e),n(l)}i(e),document.querySelector(".profile__edit-button").addEventListener("click",(function(){a(d,d.querySelector(".popup__form")),y.value=s.textContent,m.value=_.textContent,o(d,S)})),document.querySelector(".profile__add-button").addEventListener("click",(function(){v.value="",f.value="",l.querySelector(".popup__button").disabled=!0,a(l,l.querySelector(".popup__form")),o(l,q)}))})();